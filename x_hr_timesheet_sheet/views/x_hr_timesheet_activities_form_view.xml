<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="x_hr_timesheet_activities_form" model="ir.ui.view">
        <field name="name">Inherit TimeSheet Activities Form</field>
        <field name="model">hr_timesheet_sheet.sheet</field>
        <field name="inherit_id"
            ref="hr_timesheet_sheet.hr_timesheet_sheet_form"/>
            <field name="arch" type="xml">
                <!-- replace tree view  -->
                <xpath expr="//field[@name='timesheet_ids']/tree"
                    position="replace">
                    <tree string="Timesheet Activities">
                        <field name="date" required="0" invisible="1"/>
                        <field name="x_start_date" required="1"/>
                        <field name="x_end_date" required="1"/>
                        <field name="name"/>
                        <field name="project_id"
                            string="Customer/Project"
                            filter_domain="[('project_id','ilike',self)]"
                            required="1"
                            options="{'no_open': True, 'no_create': True}" />
                        <field name="x_vehicle_id"
                            options="{'no_open': False, 'no_create': True}"/>
                        <field name="unit_amount"
                            widget="float_time"
                            string="Hours"
                            sum="Hours"/>
                        <field name="user_id" invisible="1"/>
                        <field name="is_overtime"/>
                    </tree>
                </xpath>

                <!-- replace form view  -->
                <xpath expr="//field[@name='timesheet_ids']/form"
                    position="replace">
                    <form string="Timesheet Activities">
                        <group col="2">
                            <group string="Activity Details">
                                <field name="date" required="0" invisible="1"/>
                                <field name="x_start_date" required="1"/>
                                <field name="x_end_date" required="1"/>
                                <field name="project_id"
                                    string="Customer/Project"
                                    filter_domain="[('project_id','ilike',self)]"
                                    required="1"
                                    options="{'no_open': True,
                                        'no_create': True}" />
                                <field name="name" invisible="1"/>
                                <field name="unit_amount"
                                        widget="float_time"
                                        string="Hours"/>
                                <field name="user_id" invisible="1"/>
                                <field name="is_overtime"/>
                            </group>
                            <group string="Other Details">
                                <field name="x_notes"
                                    required="1"
                                    placeholder="Write here all other information relative to this activity"/>
                                <field name="x_vehicle_id"
                                        options="{'no_open': False,
                                            'no_create': True}"/>
                                <field name="x_odometer"/>
                                <field name="y_odometer"/>
                            </group>
                        </group>
                        <group string="Collaborators">
                            <field name="employee_ids" nolabel="1"/>
                        </group>
                    </form>
                </xpath>

            </field><!-- /arch -->
    </record>

    <record id="x_hr_timesheet_line_form" model="ir.ui.view">
        <field name="name">Detailed Activities Form</field>
        <field name="model">account.analytic.line</field>
        <field name="inherit_id"
            ref="hr_timesheet_sheet.hr_timesheet_line_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form/sheet"
                position="replace">

                <form string="Analytic Entry">
                    <sheet string="Analytic Entry">
                        <group col="2">
                            <group string="Activity Details">
                                <field name="date" required="0" invisible="1"/>
                                <field name="x_start_date" required="1"/>
                                <field name="x_end_date" required="1"/>
                                <field name="project_id"
                                    string="Customer/Project"
                                    filter_domain="[('project_id','ilike',self)]"
                                    required="1"
                                    options="{'no_open': True, 'no_create': True}" />
                                <field name="name" invisible="1"/>
                                <field name="unit_amount"
                                        widget="float_time"
                                        string="Hours"/>
                                <field name="user_id" invisible="1"/>
                                <field name="is_overtime"/>
                            </group>
                            <group string="Other Details">
                                <field name="x_notes"
                                    required="1"
                                    placeholder="Write here all other information relative to this activity" />

                                <field name="x_vehicle_id"
                                        options="{'no_open': False,
                                            'no_create': True}"/>
                                <field name="x_odometer"/>
                                <field name="y_odometer"/>
                            </group>
                        </group>
                        <group string="Collaborators">
                            <field name="employee_ids" nolabel="1"/>
                        </group>
                    </sheet>
                </form>

            </xpath>

        </field>
    </record>
</odoo>
